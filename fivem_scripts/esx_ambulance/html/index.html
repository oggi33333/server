<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambulance Job Menu</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="ambulance-menu" class="menu-container" style="display: none;">
        <div class="menu-header">
            <div class="header-content">
                <i class="fas fa-plus-circle"></i>
                <h1>Rettungsdienst Zentrale</h1>
                <button class="close-btn" onclick="closeMenu()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="duty-status">
                <span id="duty-text">Außer Dienst</span>
                <button id="duty-toggle" class="duty-btn off" onclick="toggleDuty()">
                    <i class="fas fa-power-off"></i>
                </button>
            </div>
        </div>

        <div class="menu-content">
            <div class="menu-section">
                <h2><i class="fas fa-ambulance"></i> Fahrzeuge</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="spawnVehicle('ambulance')" data-requires-duty="true">
                        <i class="fas fa-ambulance"></i>
                        Rettungswagen
                    </button>
                    <button class="action-btn" onclick="spawnVehicle('lguard')" data-requires-duty="true">
                        <i class="fas fa-car-side"></i>
                        Notarzt
                    </button>
                    <button class="action-btn" onclick="spawnVehicle('polmav')" data-requires-duty="true">
                        <i class="fas fa-helicopter"></i>
                        Rettungsheli
                    </button>
                    <button class="action-btn" onclick="spawnVehicle('firetruk')" data-requires-duty="true">
                        <i class="fas fa-truck"></i>
                        Feuerwehr
                    </button>
                </div>
            </div>

            <div class="menu-section">
                <h2><i class="fas fa-user-md"></i> Medizinische Behandlung</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="healPlayer()" data-requires-duty="true">
                        <i class="fas fa-heart"></i>
                        Spieler heilen
                    </button>
                    <button class="action-btn" onclick="revivePlayer()" data-requires-duty="true">
                        <i class="fas fa-hand-holding-heart"></i>
                        Wiederbeleben
                    </button>
                    <button class="action-btn" onclick="checkHealth()" data-requires-duty="true">
                        <i class="fas fa-stethoscope"></i>
                        Gesundheit prüfen
                    </button>
                    <button class="action-btn" onclick="putInAmbulance()" data-requires-duty="true">
                        <i class="fas fa-procedures"></i>
                        In Ambulanz
                    </button>
                </div>
            </div>

            <div class="menu-section">
                <h2><i class="fas fa-pills"></i> Medizinische Items</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="showMedicalItemModal('bandage')" data-requires-duty="true">
                        <i class="fas fa-band-aid"></i>
                        Verband geben
                    </button>
                    <button class="action-btn" onclick="showMedicalItemModal('medikit')" data-requires-duty="true">
                        <i class="fas fa-first-aid"></i>
                        Medikit geben
                    </button>
                    <button class="action-btn" onclick="showMedicalItemModal('painkillers')" data-requires-duty="true">
                        <i class="fas fa-capsules"></i>
                        Schmerzmittel
                    </button>
                    <button class="action-btn" onclick="showMedicalItemModal('morphine')" data-requires-duty="true">
                        <i class="fas fa-syringe"></i>
                        Morphin
                    </button>
                </div>
            </div>

            <div class="menu-section">
                <h2><i class="fas fa-hospital"></i> Krankenhaus</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="sendToHospital()" data-requires-duty="true">
                        <i class="fas fa-hospital-alt"></i>
                        Ins Krankenhaus
                    </button>
                    <button class="action-btn" onclick="showBillModal()" data-requires-duty="true">
                        <i class="fas fa-file-invoice-dollar"></i>
                        Rechnung stellen
                    </button>
                    <button class="action-btn" onclick="checkPatientRecords()" data-requires-duty="true">
                        <i class="fas fa-clipboard-list"></i>
                        Patientenakte
                    </button>
                    <button class="action-btn" onclick="prescribeMedication()" data-requires-duty="true">
                        <i class="fas fa-prescription"></i>
                        Rezept ausstellen
                    </button>
                </div>
            </div>

            <div class="menu-section">
                <h2><i class="fas fa-radio"></i> Kommunikation</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="requestBackup()" data-requires-duty="true">
                        <i class="fas fa-exclamation-triangle"></i>
                        Verstärkung
                    </button>
                    <button class="action-btn" onclick="respondToCall()" data-requires-duty="true">
                        <i class="fas fa-phone-alt"></i>
                        Notrufe anzeigen
                    </button>
                    <button class="action-btn" onclick="showAnnouncementModal()" data-requires-duty="true">
                        <i class="fas fa-bullhorn"></i>
                        Durchsage
                    </button>
                    <button class="action-btn" onclick="openDispatch()" data-requires-duty="true">
                        <i class="fas fa-headset"></i>
                        Leitstelle
                    </button>
                </div>
            </div>

            <div class="menu-section">
                <h2><i class="fas fa-chart-line"></i> Statistiken</h2>
                <div class="button-grid">
                    <button class="action-btn" onclick="viewStats()" data-requires-duty="true">
                        <i class="fas fa-chart-bar"></i>
                        Meine Statistiken
                    </button>
                    <button class="action-btn" onclick="viewPatients()" data-requires-duty="true">
                        <i class="fas fa-users"></i>
                        Behandelte Patienten
                    </button>
                    <button class="action-btn" onclick="viewDeadPlayers()" data-requires-duty="true">
                        <i class="fas fa-skull"></i>
                        Verstorbene Spieler
                    </button>
                    <button class="action-btn" onclick="shiftReport()" data-requires-duty="true">
                        <i class="fas fa-file-alt"></i>
                        Schichtbericht
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Medical Item Modal -->
    <div id="medical-item-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="item-modal-title">Medizinisches Item geben</h3>
                <button class="close-btn" onclick="closeMedicalItemModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="item-amount">Anzahl</label>
                    <input type="number" id="item-amount" placeholder="z.B. 1" min="1" max="10" value="1">
                </div>
                <div class="item-info" id="item-info">
                    <!-- Item information will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeMedicalItemModal()">Abbrechen</button>
                <button class="btn-confirm" onclick="submitMedicalItem()">Item geben</button>
            </div>
        </div>
    </div>

    <!-- Bill Modal -->
    <div id="bill-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Rechnung stellen</h3>
                <button class="close-btn" onclick="closeBillModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="bill-amount">Betrag ($)</label>
                    <input type="number" id="bill-amount" placeholder="z.B. 250" min="1" max="10000">
                </div>
                <div class="input-group">
                    <label for="bill-reason">Behandlung</label>
                    <select id="bill-reason">
                        <option value="Erste Hilfe">Erste Hilfe - $250</option>
                        <option value="Wiederbelebung">Wiederbelebung - $500</option>
                        <option value="Krankenhaus Transport">Krankenhaus Transport - $300</option>
                        <option value="Intensive Behandlung">Intensive Behandlung - $750</option>
                        <option value="Operation">Operation - $1500</option>
                        <option value="Andere">Andere</option>
                    </select>
                </div>
                <div class="input-group" id="custom-bill-group" style="display: none;">
                    <label for="custom-bill">Benutzerdefinierte Behandlung</label>
                    <input type="text" id="custom-bill" placeholder="Behandlung eingeben...">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeBillModal()">Abbrechen</button>
                <button class="btn-confirm" onclick="submitBill()">Rechnung stellen</button>
            </div>
        </div>
    </div>

    <!-- Announcement Modal -->
    <div id="announcement-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Rettungsdienst Durchsage</h3>
                <button class="close-btn" onclick="closeAnnouncementModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="announcement-text">Nachricht</label>
                    <textarea id="announcement-text" placeholder="Durchsage eingeben..." rows="4"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" onclick="closeAnnouncementModal()">Abbrechen</button>
                <button class="btn-confirm" onclick="submitAnnouncement()">Senden</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>